\chapter{Introduction}\label{c:intro}

The concept behind automation development is being incorporated into the industrial world, through the use of flexible tools to assist in the most various scenarios, as it brings efficiency and accuracy to the industry's processes. Robotics is already the key driver of competitiveness and flexibility in large scale manufacturing industries, as it is significantly reliant on a variety of technologies. Due to the continuous growth of technology in these different domains, robots can be used in a wide range of applications \cite{mohamed2008middleware}, since their usage brings increased productivity, safety and more manufacturing production work back to developed countries \cite{robots-importance, craig2005introduction}.

Despite the advances in technology, dealing with hardware-level applications becomes highly impractical as the system's complexity increases. Thereupon, developing and writing software code for robot applications is demanding, where multiple aspects must be properly considered \cite{intro-ros}. 

Since robots became to be integrated into distributed systems through separated components, connecting different hardware and software modules raises interoperability and communication issues. To solve this issue, modular architectures, based on message-passing communication patterns, are continually emerging as the architecture's middleware layer. Their primary focus is to offer services to the application layer, consequently easing the development cost, while providing interoperability and communication facilities \cite{mohamed2008middleware, maruyama2016exploring}. The requirement for a middleware layer that meets different robot's specification is a novel approach to enable the creation of robot applications over robotic systems, while supporting features such as robustness and modularity. 

% Formerly, robots were designed to complete certain single tasks, so they tended to build as one unit. However, robots are now composed by components concerned by a shared distributed network, promoting the ideia of connecting different hardware and software modules that provide control over these components. The integrated robot's modules coop together to complete a shared purpose. Since these software modules can have distinguished specification, the integration between them raises interoperability and communication issues, so the complexity behind the robots application development must be addressed by a middle layer, the \textbf{middleware}. The main idea behind implementing a middleware into a distributed system, is to ease the development cost, while provide interoperability and communication facilitation.\cite{mohamed2008middleware} The requirement for a middleware layer that meets different robot's specfication is a novel approach to enable the creation of robot applications over robotic systems, while supporting features such as robustness and modularity. 

% Thereupon, developing and writing software code for robot applications is demanding, where multiple aspects must be considered properly, as the complexity of robotics is continuously growing. Robots tend to be designed for a particular purpose, resulting in a wide variety of hardware combined, consequently making already written software code extremely difficult to understand and implement, so the complexity behind is demanding. Typically, code perception and reasoning are way to complex for any single programmer, when abstraction strategies are not taking into account.\cite{intro-ros} % Even though, many robotics researchers have previously created frameworks to deal with these problems, simplifying complexity issues by providing rapid prototyping, they tend to not scale to feature a wide community of robotics programmers. ROS aims to solve this concern, by providing a modular package-based framework, designed to be built upon by robot software developers. Their software can then be utilized by a variety of platforms and applications.\cite{intro-ros}

The Robot Operating System was created by a collaborative open-source community to contribute in the advancement of robots, with the aim of helping build robot applications easily \cite{diluoffo2018robot}. It enables locomotion, manipulation, navigation, and recognition tasks over complemented software libraries and tools. Concerning the wide range of robotics hardware and software, ROS was designed to be flexible, enabling interpolation with potential added components. However, performance and scalability issues arise due to its middleware specification \cite{intro-ros}. Additionally, real-time constraints such as fault-tolerance, deadlines, or process synchronization were not supported by ROS, making it unsuitable for safety-critical and real-time systems \cite{kim2018security}.

Besides having no middleware support for distributed real-time systems, security was not prioritized by ROS, which started to be demanding for deployed systems. An increasing number of real-time applications, for instance robotic systems, requires security insurance for protecting real-time sensitive data against unauthorized access \cite{lin2009static}.
% Previously, robotic systems were protected using a static environment, usually closed networks. 
% The need for robotics evolution demanded a change of approach, where systems must be acessible and extendable from the public network, allowing flexibility within the network, at the cost of security.

This lead to the creation of Robot Operating System 2, developed using the Data Distribution Service (DDS) \cite{3} specification protocol as its middleware, leveraging for its messaging architecture. Issues concerning system integration and scalability are mitigated by DDS various implementations, due to the several transport configurations provided, making it suitable for real-time distributed systems. DDS also provides a security specification, called DDS-Security. ROS2 makes use of this specification, providing security guarantees to the deployed robotic systems \cite{8442103}.

Due to the widespread usage of robotic systems, software verification, through the use of formal methods, are necessary to prevent potentially catastrophic consequences, mainly related to security matters, as safety guards are gradually implemented into the software domain \cite{wu2017safety}. Within this context, Alloy \cite{alloy-DJ, lwspecification} framework enables the behavioural representation of systems with rich configurations, due to the combination of both relational and linear temporal logic (LTL) provided by its specification language, consequently supporting model-checking techniques. Model-checking techniques enable far better levels of coverage and, as a result, more reliability than traditional testing, where the system is abstracted as a conventional model, that is automatically checked over performing property verification on finite-state machines \cite{beyer2017software}.

% Thus, a suitable approach towards the analysis and verification of safety-critical properties on real systems, should start through the description of a pipeline, that considers the real system extraction to an abstract model and the analysis of some concrete pre-defined properties, and lastly, the verification results proper inspection. Since most users of low-level programming languages have no familiarity with Formal Methods, aiming to achieve high impact in the improvement of software quality, formal techniques may be integrated through lightweight formal approaches, where completeness is sacrificed in favor of potential automation. One of the major limitations to this are usually associated with the real domain of action by the systems under analysis. Usually, for capturing relevant elements to the analysis, itâ€™s required to have high-knowledge of the execution environment and systems reversing engineering. Such processes have weak potential for automation.

The proposal of this dissertation is to develop a novel technique to automatically verify system-wide safety properties using Alloy framework, confining a ROS2 system into an abstract model, in order to obtain a prototype tool that can be used by developers to easily detect security configuration issues on their respective robotic application.



% \section{Problem Statement}\label{s:problem}

% As reliance on robotic systems increases,  
% Robotic systems, so called \textbf{Cyber-physical} systems, besides concerning about its realiability as a trusted system, must prioritize 
% concerns such as time efficiency and distribution are considered as priority. % Systems that rely on distribution, referred as a distributed system, supports the idea of no centralization of the systems components, by dispersing them across the systems network and handling communication by message-passing. 
% System distribution relates to the productivity matters, making robotic systems more flexible, by allowing robot compoisiton into the same network. Systems that relie on time effiency meets real-time constraints, called deadlines, mainly concerns about safety, since robots can directly affect human lifes. However, robotic systems need to be responsive, to expect maximum productivity, especially when its being considered a distributed network that rely on different robotic components. 

% Formerly, robots were designed to complete certain single tasks, so they tended to build as one unit. However, robots are now composed by components concerned by a shared distributed network, promoting the ideia of connecting different hardware and software modules that provide control over these components. The integrated robot's modules coop together to complete a shared purpose. Since these software modules can have distinguished specification, the integration between them raises interoperability and communication issues, so the complexity behind the robots application development must be addressed by a middle layer, the \textbf{middleware}. The main idea behind implementing a middleware into a distributed system, is to ease the development cost, while provide interoperability and communication facilitation.\cite{mohamed2008middleware} The requirement for a middleware layer that meets different robot's specfication is a novel approach to enable the creation of robot applications over robotic systems, while supporting features such as robustness and modularity. 

%In real-time distributed systems, middleware for robotics development must meet stringent requirements.\cite{maruyama2016exploring} The former version of ROS, was previously considered as an open-source middleware, as they provided their own middleware implementation. However, performance and scalability issues arised due to its middleware specification.\cite{intro-ros} Additionally, real-time constraints such as fault-tolerance, deadlines, or process synchronization were not supported by ROS, making it unsuitable for safety-critical and real-time systems.\cite{kim2018security} 

% Besides having no middleware support for distributed real-time systems, security features were also not featured by ROS, which started to be demanding for deployed systems. An increasing number of real-time applications, for instance robotic systems, requires security ensurance for protecting real-time sensive data, against unauthorized access.\cite{lin2009static} 
% Previously, robotic systems were protected using a static environment, usually closed networks. The need for robotics evolution demanded a change of approach, where systems must be acessible and extendable from the public network, allowing flexibility within the network, at the cost of security.

% This lead to the creation of Robot Operating System 2, which continues to provide a simple, uniform message passing interface to allow components to communicate with each other, now implemented using the Data Distribution Service (DDS)\cite{3} specification protocol as its middleware, leveraging for its messaging architecture. Issues concerning system integration and scalability are mitigated by DDS various implementations, due to the several transport configurations provided, making it suitable for real-time distributed systems. DDS also provides a security specification, called DDS-Security, used by multiple implementations, and ROS2 makes use of them to provide features to the deployed robotic systems.\cite{8442103}


\section{Objectives and Contributions}

The first goal of this thesis rests in introducing concepts around the Robot Operating System, contextualizing the evolution behind its framework towards achieving security, where the former version of ROS lacked due to the focus on flexibility. Since ROS2 has been developed over the DDS framework, as its communication middleware, DDS must be properly understood before considering the security aspects. % To do so, simple examples will be previously introduced, in order to provide ROS-based context to the reader. The domain of autonomous systems, where security is of extreme relevance, namely the Autoware \cite{8443742} ROS2 platform for self-driving vehicles will also be introduced. To understand SROS2 we intend to configure and run a realistic case study related to Autoware with security guarantees. 
The DDS Security standard functionality is evaluated, as well as how security is integrated into ROS2. Since security issues, concerning public networks, are recent to the robotics domain, ROS2 security network design should be analyzed structurally.

Security configuration related to SROS2 toolset will be provided in this chapter, supported by an example that accounts multiple security features, those being authentication, encryption and, most importantly, access control, applying restriction constraints to the network and its participants, that by default are not controlled.

The second goal is to extend a previously proposed \cite{9341085} formalization of ROS applications in Alloy \cite{alloy-6, lwspecification} to also take into consideration the security configuration defined with SROS2. Using this extension, we intend to explore the viability of verifying simple information-flow security properties. For instance, to ensure that no commands to the vehicle motor can be sent via the infotainment system.

The final goal is to automate the extraction of such formal Alloy models from the configuration files of a ROS2 application, in order to obtain a prototype tool that can be used by roboticists to easily detect security configuration issues.

\section{Document Structure}

% The current dissertation structure is divided into four different chapters. Chapter (\ref{c:ros}) introduces all the concepts related to Robot Operating System, and its evolution as robotic development framework towards achieving system security. The current provided work regarding ROS and security in ROS is also presented in this chapter. Chapter (\ref{c:alloy}) introduces the Alloy framework, as its specification language supported by a concrete example case. Chapter (\ref{c:currWork}) presents the approach developed during this work, which allows
% the automatic verification of system-wide safety properties, considering security in ROS2 applications. % Chapter (\ref{c:evaluation}) evaluates the latter approach supported by a concrete example. Chapter (\ref{c:conc}) presents the thesis conclusions, alongisde possible future aproaches complementing the current work.

The current dissertation structure is divided into three different chapters. Chapter (\ref{c:ros}) introduces all the concepts related to Robot Operating System, and its evolution as robotic development framework towards achieving system security. Chapter (\ref{c:alloy}) introduces the Alloy framework, as its specification language supported by a concrete example case. Chapter (\ref{c:currWork}) presents previous developed work that covers concepts that are also addressed within this dissertation, as well as, expected considerations about the future work. 